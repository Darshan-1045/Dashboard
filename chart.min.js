const ctx = document.getElementById('cryptoChart').getContext('2d');
let chartData = {
  labels: [],
  datasets: [{
    label: 'Bitcoin (USD)',
    data: [],
    backgroundColor: 'rgba(255, 206, 86, 0.2)',
    borderColor: 'rgba(255, 206, 86, 1)',
    borderWidth: 2
  }]
};
const cryptoChart = new Chart(ctx, {
  type: 'line',
  data: chartData,
  options: {
    responsive: true,
    scales: {
      y: { beginAtZero: false }
    }
  }
});
async function updateCryptoChart() {
  const price = await fetchCryptoData();
  const now = new Date().toLocaleTimeString();
  chartData.labels.push(now);
  chartData.datasets[0].data.push(price);
  if (chartData.labels.length > 10) {
    chartData.labels.shift();
    chartData.datasets[0].data.shift();
  }
  cryptoChart.update();
}
setInterval(updateCryptoChart, 5000); // update every 5s
setInterval(displayWeather, 60000); // update every 60s
updateCryptoChart(); // initial call
displayWeather();    // initial call
